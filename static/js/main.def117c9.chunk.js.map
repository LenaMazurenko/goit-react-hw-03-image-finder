{"version":3,"sources":["components/Searchbar.styled.js","components/Searchbar.js","components/ImageGallery.styled.js","components/ImageGallery.js","components/Button.styled.js","components/Button.js","components/Modal.styled.js","components/Modal.js","App.js","index.js"],"names":["Header","styled","header","Form","form","SubmitBtn","button","Input","input","Searchbar","state","searchWord","handleWordChange","event","setState","currentTarget","value","toLowerCase","handleWordSubmit","evt","preventDefault","trim","toast","error","props","onSubmitProp","reset","onSubmit","this","type","onChange","autocomplete","autoFocus","placeholder","fontSize","Component","LoaderWrapper","div","Grid","ul","Item","li","Image","img","ImageGallery","images","status","prevProps","prevState","page","succesFetch","fetch","then","response","json","total","hits","catch","color","height","width","map","item","src","webformatURL","srcLarge","largeImageURL","alt","onClick","handlerClickImg","id","LoadBtn","Button","onClickProp","Overlay","ModalImg","modalRoot","document","querySelector","Modal","url","createPortal","App","successfulyLoad","showModal","activImg","handleformSubmit","handleFetch","handleLoadMore","togleModal","handleImageClick","window","addEventListener","closeModal","e","target","code","removeEventListener","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.def117c9.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SubmitBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { Header, Form, SubmitBtn, Input } from './Searchbar.styled';\r\nimport { MdImageSearch } from 'react-icons/md';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchWord: '',\r\n  };\r\n\r\n  //==============================================\r\n  handleWordChange = event => {\r\n    this.setState({ searchWord: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  //=================================\r\n  handleWordSubmit = evt => {\r\n    evt.preventDefault();\r\n    if (this.state.searchWord.trim() === '') {\r\n      return toast.error('Enter query');\r\n    }\r\n    // Проп который передается форме для вызова при сабмите\r\n    this.props.onSubmitProp(this.state.searchWord);\r\n    this.reset();\r\n  };\r\n\r\n  //===========================================\r\n  reset = () => {\r\n    this.setState({ searchWord: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Header>\r\n        <Form onSubmit={this.handleWordSubmit}>\r\n          <Input\r\n            type=\"text\"\r\n            value={this.state.searchWord}\r\n            onChange={this.handleWordChange}\r\n            autocomplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n          <SubmitBtn type=\"submit\">\r\n            <MdImageSearch fontSize=\"2em\" />\r\n          </SubmitBtn>\r\n        </Form>\r\n      </Header>\r\n    );\r\n  }\r\n}\r\nexport default Searchbar;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const LoaderWrapper = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const Grid = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 10px;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  display: block;\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  :hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import React, { Component } from 'react';\r\n//import { toast } from 'react-toastify';\r\nimport { LoaderWrapper, Grid, Item, Image } from './ImageGallery.styled';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    status: 'idle',\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      prevProps.searchWord !== this.props.searchWord ||\r\n      prevProps.page !== this.props.page\r\n    ) {\r\n      this.setState({ status: 'pending' });\r\n      this.props.succesFetch(false);\r\n      if (prevProps.searchWord !== this.props.searchWord) {\r\n        this.setState({ images: [] });\r\n      }\r\n\r\n      fetch(\r\n        `https://pixabay.com/api/?q=${this.props.searchWord}&page=${this.props.page}&key=24022997-1f6b45243be8e45a3cc65a02f&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n        .then(response => response.json())\r\n        .then(images => {\r\n          if (images.total) {\r\n            this.setState(prevState => ({\r\n              images: [...prevState.images, ...images.hits],\r\n            }));\r\n\r\n            this.setState({ status: 'resolved' });\r\n            this.props.succesFetch(true);\r\n          } else {\r\n            this.setState({ status: 'reject' });\r\n            //toast.error('Bad request, try again!');\r\n          }\r\n        })\r\n        .catch(error => this.setState({ error }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { images, status } = this.state;\r\n    if (status === 'idle') {\r\n      return <h1>Enter query....</h1>;\r\n    }\r\n    if (status === 'pending') {\r\n      return (\r\n        <LoaderWrapper>\r\n          <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\r\n        </LoaderWrapper>\r\n      );\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <Grid>\r\n          {images.map(item => (\r\n            <Item key={item.id}>\r\n              <Image\r\n                src={item.webformatURL}\r\n                srcLarge={item.largeImageURL}\r\n                alt=\"\"\r\n                onClick={() => this.props.handlerClickImg(item.webformatURL)}\r\n              />\r\n            </Item>\r\n          ))}\r\n        </Grid>\r\n      );\r\n    }\r\n\r\n    if (status === 'reject') {\r\n      return (\r\n        <h1>Bad request, try again!</h1>\r\n        // toast.error('Bad request, try again!')\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default ImageGallery;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const LoadBtn = styled.button`\r\n  margin: 10px auto;\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { LoadBtn } from './Button.styled';\r\n\r\nexport default function Button({ onClickProp }) {\r\n  return (\r\n    <LoadBtn type=\"button\" onClick={onClickProp}>\r\n      Load More\r\n    </LoadBtn>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClickProp: PropTypes.func,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ModalImg = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport { Overlay, ModalImg } from './Modal.styled';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ url, onClick }) {\r\n  return createPortal(\r\n    <Overlay onClick={onClick}>\r\n      <ModalImg>\r\n        <img src={url} alt=\"\" />\r\n      </ModalImg>\r\n    </Overlay>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n  url: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    searchWord: '',\n    successfulyLoad: false,\n    page: 1,\n    showModal: false,\n    activImg: '',\n  };\n\n  //componentDidMount() {}\n  //componentDidUpdate(prevProps, prevState) {}\n\n  //======================================\n\n  handleformSubmit = searchWord => {\n    this.setState({ searchWord, page: 1 });\n  };\n\n  handleFetch = successfulyLoad => {\n    this.setState({ successfulyLoad });\n  };\n  handleLoadMore = evt => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n  togleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleImageClick = url => {\n    this.setState({ activImg: url, showModal: true });\n    window.addEventListener('keydown', this.closeModal);\n  };\n  closeModal = e => {\n    if (e.currentTarget === e.target)\n      this.setState({ activImg: '', showModal: false });\n    if (e.code === 'Escape') this.setState({ activImg: '', showModal: false });\n    window.removeEventListener('keydown', this.closeModal);\n  };\n  //===============================\n\n  render() {\n    const { searchWord, successfulyLoad, page, showModal, activImg } =\n      this.state;\n    return (\n      <>\n        <Searchbar onSubmitProp={this.handleformSubmit} />\n        <ImageGallery\n          searchWord={searchWord}\n          succesFetch={this.handleFetch}\n          page={page}\n          handlerClickImg={this.handleImageClick}\n        />\n        {successfulyLoad && <Button onClickProp={this.handleLoadMore} />}\n        {showModal && <Modal url={activImg} onClick={this.closeModal} />}\n        <ToastContainer autoClose={2000} />\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}