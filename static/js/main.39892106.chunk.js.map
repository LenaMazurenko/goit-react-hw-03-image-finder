{"version":3,"sources":["components/Searchbar.styled.js","components/Searchbar.js","components/ImageGallery.styled.js","components/ImageGallery.js","components/Button.styled.js","components/Button.js","components/Modal.styled.js","components/Modal.js","App.js","utils/fetchQuery.js","index.js"],"names":["Header","styled","header","Form","form","SubmitBtn","button","Input","input","Searchbar","state","searchWord","handleWordChange","event","setState","currentTarget","value","toLowerCase","handleWordSubmit","evt","preventDefault","trim","toast","error","props","onSubmitProp","reset","onSubmit","this","type","onChange","autocomplete","autoFocus","placeholder","fontSize","Component","LoaderWrapper","div","Grid","ul","Item","li","Image","img","ImageGallery","handlerClickImg","images","map","item","src","webformatURL","alt","onClick","largeImageURL","id","LoadBtn","Button","onClickProp","Overlay","ModalImg","modalRoot","document","querySelector","Modal","url","createPortal","App","status","page","showModal","activImg","handleformSubmit","handleFetch","handleLoadMore","prevState","togleModal","handleImageClick","window","addEventListener","closeModal","e","target","code","removeEventListener","prevProps","query","fetch","then","response","json","fetchQuery","total","hits","catch","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.39892106.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SubmitBtn = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { Header, Form, SubmitBtn, Input } from './Searchbar.styled';\r\nimport { MdImageSearch } from 'react-icons/md';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchWord: '',\r\n  };\r\n\r\n  //==============================================\r\n  handleWordChange = event => {\r\n    this.setState({ searchWord: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  //=================================\r\n  handleWordSubmit = evt => {\r\n    evt.preventDefault();\r\n    if (this.state.searchWord.trim() === '') {\r\n      return toast.error('Enter query');\r\n    }\r\n    // Проп который передается форме для вызова при сабмите\r\n    this.props.onSubmitProp(this.state.searchWord);\r\n    this.reset();\r\n  };\r\n\r\n  //===========================================\r\n  reset = () => {\r\n    this.setState({ searchWord: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Header>\r\n        <Form onSubmit={this.handleWordSubmit}>\r\n          <Input\r\n            type=\"text\"\r\n            value={this.state.searchWord}\r\n            onChange={this.handleWordChange}\r\n            autocomplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n          <SubmitBtn type=\"submit\">\r\n            <MdImageSearch fontSize=\"2em\" />\r\n          </SubmitBtn>\r\n        </Form>\r\n      </Header>\r\n    );\r\n  }\r\n}\r\nexport default Searchbar;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const LoaderWrapper = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const Grid = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 10px;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  display: block;\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  :hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { Grid, Item, Image } from './ImageGallery.styled';\r\n\r\nexport default function ImageGallery({ handlerClickImg, images }) {\r\n  return (\r\n    <Grid>\r\n      {images.map(item => (\r\n        <Item key={item.id}>\r\n          <Image\r\n            src={item.webformatURL}\r\n            alt=\"\"\r\n            onClick={() => handlerClickImg(item.largeImageURL)}\r\n          />\r\n        </Item>\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const LoadBtn = styled.button`\r\n  margin: 10px auto;\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { LoadBtn } from './Button.styled';\r\n\r\nexport default function Button({ onClickProp }) {\r\n  return (\r\n    <LoadBtn type=\"button\" onClick={onClickProp}>\r\n      Load More\r\n    </LoadBtn>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClickProp: PropTypes.func,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ModalImg = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport { Overlay, ModalImg } from './Modal.styled';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ url, onClick }) {\r\n  return createPortal(\r\n    <Overlay onClick={onClick}>\r\n      <ModalImg>\r\n        <img src={url} alt=\"\" />\r\n      </ModalImg>\r\n    </Overlay>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n  url: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport fetchQuery from './utils/fetchQuery';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport { LoaderWrapper } from './components/ImageGallery.styled';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchWord: '',\n    status: 'idle',\n    page: 1,\n    showModal: false,\n    activImg: '',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchWord, page } = this.state;\n\n    if (prevState.searchWord !== searchWord || prevState.page !== page) {\n      this.setState({ status: 'pending' });\n\n      if (prevState.searchWord !== searchWord) {\n        this.setState({ images: [] });\n      }\n\n      fetchQuery(searchWord, page)\n        .then(images => {\n          if (images.total) {\n            this.setState(prevState => ({\n              images: [...prevState.images, ...images.hits],\n            }));\n            this.setState({ status: 'resolved' });\n          } else {\n            this.setState({ status: 'reject' });\n            toast.error('Bad request, try again!');\n          }\n        })\n        .catch(error => this.setState({ error }));\n    }\n  }\n\n  //======================================\n\n  handleformSubmit = searchWord => {\n    this.setState({ searchWord, page: 1 });\n  };\n\n  handleFetch = status => {\n    this.setState({ status });\n  };\n  handleLoadMore = evt => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n  togleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleImageClick = url => {\n    this.setState({ activImg: url, showModal: true });\n    window.addEventListener('keydown', this.closeModal);\n  };\n  closeModal = e => {\n    if (e.currentTarget === e.target)\n      this.setState({ activImg: '', showModal: false });\n    if (e.code === 'Escape') this.setState({ activImg: '', showModal: false });\n    window.removeEventListener('keydown', this.closeModal);\n  };\n  //===============================\n\n  render() {\n    const { status, showModal, activImg, images } = this.state;\n    return (\n      <>\n        <Searchbar onSubmitProp={this.handleformSubmit} />\n        <ImageGallery handlerClickImg={this.handleImageClick} images={images} />\n        {status === 'pending' && (\n          <LoaderWrapper>\n            <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\n          </LoaderWrapper>\n        )}\n        {status === 'resolved' && <Button onClickProp={this.handleLoadMore} />}\n        {showModal && <Modal url={activImg} onClick={this.closeModal} />}\n        <ToastContainer autoClose={2000} />\n      </>\n    );\n  }\n}\nexport default App;\n","export default function fetchQuery(query, page) {\r\n  const key =\r\n    '24022997-1f6b45243be8e45a3cc65a02f&image_type=photo&orientation=horizontal&per_page=12';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}`,\r\n  ).then(response => response.json());\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}